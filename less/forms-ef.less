//
// Forms
// --------------------------------------------------

// Common form controls
//
// Shared size and type resets for form controls. Apply `.form-control` to any
// of the following form controls:
//
// select
// textarea
// input[type="text"]
// input[type="password"]
// input[type="datetime"]
// input[type="datetime-local"]
// input[type="date"]
// input[type="month"]
// input[type="time"]
// input[type="week"]
// input[type="number"]
// input[type="email"]
// input[type="url"]
// input[type="search"]
// input[type="tel"]
// input[type="color"]

.form-control {
  .input-horizontal-padding(@padding-base-horizontal);
  border-color: @brand-trivia;
  color: @brand-trivia;
  .placeholder(@brand-trivia-disable);
  .box-shadow-clear();

  &:hover {
    border-color: @brand-trivia-hover;
    color: @brand-trivia-hover;
    .placeholder(@brand-trivia);
  }

  &:focus {
    border-color: @brand-active;
    color: @brand-active;
    .box-shadow(none);
    .placeholder(@brand-active-disable);
  }

  &[disabled],
    fieldset[disabled] & {
    border-color: @brand-trivia-disable;
    color: @brand-trivia-disable;
    background-color: @body-bg;
    .placeholder(@brand-trivia-disable);
    &:hover {
      border-color: @brand-trivia-disable;
      color: @brand-trivia-disable;
      background-color: @body-bg;
      .placeholder(@brand-trivia-disable);
    }
  }

  select& {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    text-indent: 0.01px;
    text-overflow: '';
    border-color: @brand-trivia;
    color: @brand-trivia;
    background:
      @input-bg
      url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAEsCAIAAADYU63cAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzYzMTEwOENEMjI2MTFFM0E5MDJFRDkxOUFFQkZGQjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzYzMTEwOEREMjI2MTFFM0E5MDJFRDkxOUFFQkZGQjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDNjMxMTA4QUQyMjYxMUUzQTkwMkVEOTE5QUVCRkZCNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDNjMxMTA4QkQyMjYxMUUzQTkwMkVEOTE5QUVCRkZCNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhFX6HUAAAHCSURBVHja7N2xTcNAFAZgGzEBA4Qp6FghqWAQJmEQRJMVoGOKpKOAFUxhCVmcFZD/w5zQ95eWrPfp3bvi5IvSb7fbroGcdW2E4386+r5vwjEMwx87anUiddTqhP3CwcHBwcGxVs6Xvbbf78uHu91u7X6UJRNEtC7TwiEinY+xfI6oMKdVEPYtBwcHBwcHBwcHR9MOERERERGR77LwTsvsJZTkhszyN79Qwms60cuflLp3haotkIiIiIiIyK+cK5/eWnD4TsjBwcHBwcHBwcHRrmPh76OG64uZM8jz+9r9KEsmiGhdpoVDRDofY/kcUWFOqyDsWw4ODg4ODg4ODo6mHf3Q3egHBwcHBwcHBwcHB8epLPwe1Q0Pc4eQ29X7UZYMENm6TAtniHg+xvIxwrmSg4ODg4ODg4ODg+Mn54bD4aAfHBwcHBwcHBwcHBynsvB71GazKR8ej8e1+1GWTBDRukwLh4h0PsbyOaLCnFZB2LccHBwcHBwcHBwcbZ8rH18v9YODg4ODg4ODg4OD4+S5Ydlrd1czf090/9Kv3Y+yZIKI1mVaOESk8zGWzxEV5rQKwr7l4ODg4ODg4ODgaNrxIcAARsRb564RogEAAAAASUVORK5CYII=)
      right @select-bg-y-normal-base no-repeat;

      &.input-lg {
        .select-background( @select-bg-y-normal-lg );

        &:hover {
          .select-background( @select-bg-y-hover-lg );
        }

        &:focus {
          .select-background( @select-bg-y-focus-lg );
        }

        &[disabled] {
          .select-background( @select-bg-y-disabled-lg );

          &:hover {
            .select-background( @select-bg-y-disabled-lg );
          }
        }
      }

      &.input-sm {
        .select-background( @select-bg-y-normal-sm );

        &:hover {
          .select-background( @select-bg-y-hover-sm );
        }

        &:focus {
          .select-background( @select-bg-y-focus-sm );
        }

        &[disabled] {
          .select-background( @select-bg-y-disabled-sm );

          &:hover {
            .select-background( @select-bg-y-disabled-sm );
          }
        }
      }


    &:hover {
      border-color: @brand-trivia-hover;
      color: @brand-trivia-hover;
      .select-background( @select-bg-y-hover-base );
    }

    &:focus {
      border-color: @brand-active;
      color: @brand-active;
      .select-background( @select-bg-y-focus-base );
    }

    &[multiple] {
      background-image: none;
    }

    &[disabled],
    fieldset[disabled] & {
      border: none;
      color: @brand-trivia-disable;
      background-color: @brand-default-disable;
      .select-background( @select-bg-y-disabled-base );

      &:hover {
        border: none;
        color: @brand-trivia-disable;
        background-color: @brand-default-disable;
        .select-background( @select-bg-y-disabled-base );
      }
    }
  }
}

// Form control sizing
//
// Relative text size, padding, and border-radii changes for form controls. For
// horizontal sizing, wrap controls in the predefined grid classes. `<select>`
// element gets special love because it's special, and that's a fact!

.form-control {
  &.input-lg {
    .input-horizontal-padding(@padding-large-horizontal);
  }
  &.input-sm {
    .input-horizontal-padding(@padding-small-horizontal);
  }
  select& {
    &.input-lg {
      line-height: @line-height-computed;
    }
    &.input-sm {
      line-height: @line-height-computed;
    }
  }
}

// Glyphicon icons

.icon-glyph-error,
.icon-glyph-success,
.icon-glyph-warning {
  @icon-glyph-size: 19px;

  .clearfix;
  margin-top: -(@input-height-base - ceil((@icon-glyph-size / 2))) !important; // overwrite font awesome
  margin-right: @padding-small-horizontal;
  float: right;

  &:before {
    .square(@icon-glyph-size);
    display: none !important; // overwrite font awesome
    border-radius: 9999px;
    color: @btn-default-color;
    line-height: @icon-glyph-size !important; // overwrite font awesome
    text-align: center;
  }

}


.show-glyph-icon(@class, @bg, @icon) {
  .has-@{class} .icon-glyph-@{class}:before {
    display: table !important;
    background-color: @bg;
    content: @icon;
  }
}

.show-glyph-icon(error, @brand-error, @remove);
.show-glyph-icon(success, @brand-success, @ok);
.show-glyph-icon(warning, @brand-warning, @exclamation);


// Form control feedback states
//
// Apply contextual and semantic states to individual form controls.

// Warning
.has-warning {
  .form-control-validation(@form-state-warning-text, @form-state-warning-text, @form-state-warning-bg);
}
// Error
.has-error {
  .form-control-validation(@form-state-danger-text, @form-state-danger-text, @form-state-danger-bg);

  select {
    .select-background( @select-bg-y-error-base );

    &:hover,
    &:focus {
      .select-background( @select-bg-y-error-base );
    }
  }

  select.input-lg {
    .select-background( @select-bg-y-error-lg );

    &.input-lg:hover,
    &.input-lg:focus {
      .select-background( @select-bg-y-error-lg );
    }
  }

  select.input-sm {
    .select-background( @select-bg-y-error-sm );

    &.input-sm:hover,
    &.input-sm:focus {
      .select-background( @select-bg-y-error-sm );
    }
  }
}
// Success
.has-success {
  .form-control-validation(@form-state-success-text, @form-state-success-text, @form-state-success-bg);

  select {
    .select-background( @select-bg-y-success-base );

    &:hover,
    &:focus {
      .select-background( @select-bg-y-success-base );
    }
  }

  select.input-lg {
    .select-background( @select-bg-y-success-lg );

    &.input-lg:hover,
    &.input-lg:focus {
      .select-background( @select-bg-y-success-lg );
    }
  }

  select.input-sm {
    .select-background( @select-bg-y-success-sm );

    &.input-sm:hover,
    &.input-sm:focus {
      .select-background( @select-bg-y-success-sm );
    }
  }
}

// Text input groups
// -------------------------
.input-group-addon {
  padding: @padding-base-vertical - 1 @padding-base-horizontal;

  &.input-sm {
    padding: @padding-small-vertical - 1 @padding-small-horizontal;
  }
  &.input-lg {
    padding: @padding-large-vertical - 1 @padding-large-horizontal;
  }
}

